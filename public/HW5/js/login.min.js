(function(){const txtEmail=document.getElementById('txtEmail');const txtPassword=document.getElementById('txtPassword');const btnSubmit=document.getElementById('btnSubmit');const btnGoogleLogin=document.getElementById('btnGoogleLogin');btnSubmit.addEventListener('click',e=>{e.preventDefault();const email=txtEmail.value;const password=txtPassword.value;const promise=firebase.auth().signInWithEmailAndPassword(email,password);promise.catch(validateForm)});btnGoogleLogin.addEventListener('click',e=>{e.preventDefault();var provider=new firebase.auth.GoogleAuthProvider();const promise=firebase.auth().signInWithPopup(provider);promise.catch(e=>console.log(e.message))});firebase.auth().onAuthStateChanged(firebaseUser=>{if(firebaseUser){console.log(firebaseUser);window.location='./community.html'}
else{console.log('not logged in')}})}());function validateForm(error){const errorMessage=document.getElementById('error-message');errorMessage.style.visibility='hidden';txtEmail.style.border='';txtPassword.style.border='';txtEmail.value='';txtPassword.value='';txtEmail.placeholder='';txtPassword.placeholder='';switch(error.code){case 'auth/invalid-email':txtEmail.style.border='3px solid #FF6138';txtEmail.placeholder='Invalid Email';break;case 'auth/wrong-password':txtPassword.style.border='3px solid #FF6138';txtPassword.placeholder='Invalid Password';break;case 'auth/user-not-found':txtEmail.style.border='3px solid #FF6138';txtPassword.style.border='3px solid #FF6138';errorMessage.style.visibility='visible';break}}
